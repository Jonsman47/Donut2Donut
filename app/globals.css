@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================
   Donut2Donut — 2025 Global Styles (Bright Glass / Blue)
   Images supported:
   - /donut1.jpg (logo)
   - /donut2.png (crystal glow)
   - /donut3.png (hero/backdrop)
   ============================================================ */

/* -----------------------------
   0) Design Tokens
   ----------------------------- */
:root {
  /* Background (lifted so it’s readable) */
  --bg0: #0b1430;
  --bg1: #0d1736;
  --bg2: #101d44;

  /* Text (bright) */
  --txt0: rgba(255, 255, 255, 0.98);
  --txt1: rgba(255, 255, 255, 0.90);
  --txt2: rgba(255, 255, 255, 0.76);

  /* Glass (brighter) */
  --glass0: rgba(255, 255, 255, 0.10);
  --glass1: rgba(255, 255, 255, 0.16);
  --glass2: rgba(255, 255, 255, 0.22);

  /* Borders (visible) */
  --stroke0: rgba(255, 255, 255, 0.22);
  --stroke1: rgba(255, 255, 255, 0.34);
  --stroke2: rgba(255, 255, 255, 0.46);

  /* Brand */
  --b0: #eaf3ff;
  --b1: #cbe4ff;
  --b2: #98c9ff;
  --b3: #2a7bff;
  --b4: #1b56d6;

  /* Accents */
  --vio3: #7c5cff;
  --teal3: #22d3ee;

  /* Radius */
  --r10: 10px;
  --r14: 14px;
  --r18: 18px;
  --r24: 24px;
  --r30: 30px;

  /* Shadows */
  --shSoft: 0 18px 60px rgba(0, 0, 0, 0.35);
  --shPop: 0 22px 80px rgba(0, 0, 0, 0.45);
  --shGlow: 0 0 0 1px rgba(42, 123, 255, 0.26), 0 0 90px rgba(42, 123, 255, 0.24);
  --focus: 0 0 0 3px rgba(42, 123, 255, 0.44);

  /* Layout */
  --max: 1220px;
}

/* -----------------------------
   1) Base Reset
   ----------------------------- */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  color: var(--txt0);
  background:
    radial-gradient(1200px 700px at 18% -12%, rgba(42,123,255,0.34), transparent 60%),
    radial-gradient(1050px 650px at 86% 0%, rgba(124,92,255,0.28), transparent 62%),
    radial-gradient(900px 620px at 55% 115%, rgba(34,211,238,0.16), transparent 64%),
    linear-gradient(180deg, var(--bg0), var(--bg2));
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

a { color: inherit; text-decoration: none; }
img { max-width: 100%; display: block; }
button, input, select, textarea { font: inherit; color: inherit; }

::selection { background: rgba(42, 123, 255, 0.35); }

@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* -----------------------------
   2) Scrollbar
   ----------------------------- */
*::-webkit-scrollbar { width: 10px; height: 10px; }
*::-webkit-scrollbar-track { background: rgba(255,255,255,0.07); border-radius: 999px; }
*::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.20); border-radius: 999px; }
*::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.30); }

/* -----------------------------
   3) App Shell Layers
   ----------------------------- */
.app-shell { min-height: 100dvh; position: relative; }

.app-noise {
  pointer-events: none;
  position: fixed;
  inset: 0;
  opacity: 0.045;
  mix-blend-mode: overlay;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='180' height='180'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='180' height='180' filter='url(%23n)' opacity='.35'/%3E%3C/svg%3E");
}

.app-backdrop {
  pointer-events: none;
  position: fixed;
  inset: -40px;
  background-image: url("/donut3.png");
  background-size: cover;
  background-position: center;
  filter: blur(16px) saturate(1.10) brightness(0.78);
  opacity: 0.12;
  transform: scale(1.08);
}

.app-crystal {
  pointer-events: none;
  position: fixed;
  right: -120px;
  top: -120px;
  width: 440px;
  height: 440px;
  background-image: url("/donut2.png");
  background-size: cover;
  background-position: center;
  opacity: 0.16;
  filter: drop-shadow(0 0 90px rgba(42,123,255,0.30));
  transform: rotate(8deg);
}

/* -----------------------------
   4) Layout Utilities
   ----------------------------- */
.container {
  width: 100%;
  max-width: var(--max);
  margin: 0 auto;
  padding: 0 18px;
}

.section { padding: 24px 0; }
.section-tight { padding: 16px 0; }

.stack-4 { display: grid; gap: 4px; }
.stack-6 { display: grid; gap: 6px; }
.stack-8 { display: grid; gap: 8px; }
.stack-10 { display: grid; gap: 10px; }
.stack-14 { display: grid; gap: 14px; }
.stack-18 { display: grid; gap: 18px; }

.grid-cards {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 14px;
}
@media (min-width: 640px) {
  .grid-cards { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width: 1024px) {
  .grid-cards { grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 16px; }
}
@media (min-width: 1280px) {
  .grid-cards { grid-template-columns: repeat(4, minmax(0, 1fr)); }
}

.sticky { position: sticky; top: 88px; }

/* A bright wrapper you can use for “dark sections” */
.section-glow {
  position: relative;
  border-radius: var(--r30);
  padding: 18px;
  background:
    radial-gradient(900px 520px at 20% 10%, rgba(42,123,255,0.26), transparent 60%),
    radial-gradient(760px 520px at 85% 0%, rgba(124,92,255,0.20), transparent 62%),
    rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.18);
  box-shadow: 0 20px 70px rgba(0,0,0,0.32);
}

/* -----------------------------
   5) Typography
   ----------------------------- */
.h1 {
  font-size: clamp(2.25rem, 4.1vw, 3.35rem);
  line-height: 1.05;
  font-weight: 950;
  letter-spacing: -0.03em;
  color: var(--txt0);
  text-shadow: 0 14px 60px rgba(0,0,0,0.40);
}
.h2 {
  font-size: clamp(1.25rem, 2.0vw, 1.65rem);
  line-height: 1.14;
  font-weight: 900;
  letter-spacing: -0.015em;
  color: var(--txt0);
}
.h3 {
  font-size: 1.08rem;
  line-height: 1.25;
  font-weight: 850;
  color: var(--txt0);
}
.p { color: var(--txt1); line-height: 1.62; }
.muted { color: var(--txt2); }

.kicker {
  font-size: 0.78rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.82);
}

/* -----------------------------
   6) Surfaces (THIS is what fixes “gray”)
   ----------------------------- */
.surface {
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.22),
    rgba(255,255,255,0.12)
  );
  border: 1px solid rgba(255,255,255,0.28);
  border-radius: var(--r24);
  box-shadow: var(--shSoft);
}

.surface-strong {
  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.30),
    rgba(255,255,255,0.16)
  );
  border: 1px solid rgba(255,255,255,0.38);
  border-radius: var(--r24);
  box-shadow: var(--shPop);
}

.glass {
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
}

.border-grad { position: relative; }
.border-grad::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(
    135deg,
    rgba(42,123,255,0.62),
    rgba(124,92,255,0.34),
    rgba(34,211,238,0.26)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  opacity: 0.88;
}

/* -----------------------------
   7) Buttons
   ----------------------------- */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.55rem;
  height: 44px;
  padding: 0 14px;
  border-radius: var(--r14);
  font-weight: 850;
  letter-spacing: -0.01em;
  user-select: none;
  transition: transform 0.16s ease, filter 0.16s ease, box-shadow 0.16s ease, background 0.16s ease, border-color 0.16s ease;
}
.btn:active { transform: translateY(1px) scale(0.992); }

.btn-primary {
  background: linear-gradient(180deg, var(--b3), var(--b4));
  box-shadow: 0 16px 52px rgba(42,123,255,0.34);
  border: 1px solid rgba(255,255,255,0.16);
}
.btn-primary:hover { filter: brightness(1.10); box-shadow: var(--shGlow); }

.btn-ghost {
  background: rgba(255,255,255,0.12);
  border: 1px solid rgba(255,255,255,0.22);
}
.btn-ghost:hover { background: rgba(255,255,255,0.16); border-color: rgba(255,255,255,0.30); }

.btn-soft {
  background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.12));
  border: 1px solid rgba(255,255,255,0.22);
}
.btn-soft:hover { background: linear-gradient(180deg, rgba(255,255,255,0.20), rgba(255,255,255,0.12)); }

.btn-wide { width: 100%; }
.btn-icon { width: 44px; padding: 0; border-radius: var(--r14); }

/* -----------------------------
   8) Inputs
   ----------------------------- */
.input {
  width: 100%;
  height: 44px;
  padding: 0 12px;
  border-radius: var(--r14);
  background: rgba(255,255,255,0.16);
  border: 1px solid rgba(255,255,255,0.26);
  outline: none;
  transition: box-shadow 0.16s ease, border-color 0.16s ease, background 0.16s ease;
}
.input::placeholder { color: rgba(255,255,255,0.62); }
.input:focus {
  border-color: rgba(42,123,255,0.75);
  box-shadow: var(--focus);
  background: rgba(255,255,255,0.18);
}

.select {
  appearance: none;
  background-image:
    linear-gradient(45deg, transparent 50%, rgba(255,255,255,0.75) 50%),
    linear-gradient(135deg, rgba(255,255,255,0.75) 50%, transparent 50%);
  background-position:
    calc(100% - 18px) 18px,
    calc(100% - 12px) 18px;
  background-size: 6px 6px, 6px 6px;
  background-repeat: no-repeat;
  padding-right: 34px;
}

/* -----------------------------
   9) Badges
   ----------------------------- */
.badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.34rem 0.62rem;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.22);
  background: rgba(255,255,255,0.12);
  font-size: 0.72rem;
  font-weight: 850;
  color: var(--txt1);
}
.badge-blue { color: var(--b1); }
.badge-good { color: rgba(34,197,94,0.98); }

/* -----------------------------
   10) Cards
   ----------------------------- */
.card {
  border-radius: var(--r24);
  border: 1px solid rgba(255,255,255,0.26);
  background: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.10));
  box-shadow: var(--shSoft);
  overflow: hidden;
}
.card-hover {
  transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
}
.card-hover:hover {
  transform: translateY(-2px);
  border-color: rgba(42,123,255,0.45);
  box-shadow: var(--shGlow);
}

.card-img {
  position: relative;
  overflow: hidden;
  border-bottom: 1px solid rgba(255,255,255,0.18);
  background: rgba(255,255,255,0.10);
}
.card-img img {
  width: 100%;
  height: 180px;
  object-fit: cover;
  transform: scale(1);
  transition: transform 0.24s ease;
}
.card-hover:hover .card-img img { transform: scale(1.05); }

/* -----------------------------
   11) Hero (FIXED: overlays no longer block clicks)
   ----------------------------- */
.hero { position: relative; overflow: hidden; border-radius: var(--r30); }

/* IMPORTANT: pointer-events none + z-index so clicks go to content */
.hero::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("/donut3.png");
  background-size: cover;
  background-position: center;
  filter: blur(12px) saturate(1.10) brightness(0.92);
  transform: scale(1.08);
  opacity: 0.92;
  pointer-events: none;
  z-index: 0;
}

/* LESS DARK FOG (important) */
.hero::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(980px 560px at 18% 0%, rgba(42,123,255,0.36), transparent 60%),
    radial-gradient(820px 520px at 82% 12%, rgba(124,92,255,0.28), transparent 56%),
    linear-gradient(180deg, rgba(10,18,44,0.06), rgba(10,18,44,0.22));
  pointer-events: none;
  z-index: 1;
}

.hero-inner {
  position: relative;
  z-index: 3;
  padding: 18px;
  min-height: 260px;
  display: grid;
  gap: 12px;
}

.crystal-glow {
  position: absolute;
  right: -60px;
  top: -60px;
  width: 320px;
  height: 320px;
  background-image: url("/donut2.png");
  background-size: cover;
  background-position: center;
  opacity: 0.46;
  filter: drop-shadow(0 0 70px rgba(42,123,255,0.55));
  transform: rotate(10deg);
  pointer-events: none;
  z-index: 2;
}

/* -----------------------------
   12) Misc
   ----------------------------- */
.sep { height: 1px; background: rgba(255,255,255,0.18); margin: 12px 0; }

@keyframes shimmer {
  0% { background-position: -540px 0; }
  100% { background-position: 540px 0; }
}
.skel {
  background: linear-gradient(90deg, rgba(255,255,255,0.14), rgba(255,255,255,0.26), rgba(255,255,255,0.14));
  background-size: 980px 100%;
  animation: shimmer 1.20s infinite linear;
  border-radius: var(--r14);
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(10px); }
  to   { opacity: 1; transform: translateY(0); }
}
.fade-up { animation: fadeUp .22s ease both; }

@keyframes pop {
  0% { transform: scale(.98); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}
.pop { animation: pop .18s ease both; }

@layer utilities {
  .text-muted { color: var(--txt2); }
  .ring-glow { box-shadow: var(--shGlow); }
}

/* -----------------------------
   13) Listing pages: force readable blocks
   (Only works if you wrap listing page with <div className="listing-page">)
   ----------------------------- */
.listing-page section,
.listing-page .block,
.listing-page .panel {
  background: linear-gradient(180deg, rgba(255,255,255,0.22), rgba(255,255,255,0.12));
  border: 1px solid rgba(255,255,255,0.26);
  border-radius: var(--r24);
}
